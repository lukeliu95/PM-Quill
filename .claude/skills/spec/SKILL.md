---
name: spec
description: 把模糊想法变成结构化的产品规格（Spec）
allowed-tools: Read, Write, Edit, Glob, Grep, WebSearch, WebFetch, TaskCreate, TaskUpdate, TaskList, AskUserQuestion
user-invocable: true
---

# /spec — 产品规格生成

## 使用方式

```
/spec 我想做一个帮独立开发者追踪 AI 成本的仪表盘
```

或者不带参数直接 `/spec`，我会问你想做什么。

## 这个技能做什么

把你脑子里模糊的想法，通过结构化对话，变成一份清晰的产品规格文件（Spec）。

## 流程

### Step 1: 理解想法（2 分钟）

读取用户输入的想法。如果太模糊，用 AskUserQuestion 追问 1-2 个关键问题：
- 这个产品是给谁用的？
- 你自己会用这个产品吗？
- 你见过类似的东西吗？

**原则：不问超过 3 个问题。** 不确定的地方先假设，标注 `[待确认]` 让用户后续修改。

### Step 2: 竞品快扫（3 分钟）

用 WebSearch 快速搜索：
- 有没有类似产品已经存在？
- GitHub 上有没有相关的开源项目？
- 目标用户现在用什么替代方案？

整理成 3-5 条关键发现，不写长篇报告。

### Step 3: 生成 Spec（5 分钟）

在 `specs/{project-name}/` 目录下创建 `spec.md`，使用以下模板：

```markdown
# {项目名} — 产品规格

> 一句话：{用一句话说清楚这个产品做什么}
> 创建时间：{日期}
> 状态：草稿

## 用户是谁

{描述目标用户，要具体到能在路上认出来}

## 痛点

{用户现在遇到什么问题？用什么替代方案？替代方案哪里不好？}

## 核心功能（最多 3 个）

### 功能 1: {名称}
- 用户操作：{用户做什么}
- 系统响应：{系统给什么}
- 成功标准：{怎么算做好了}

### 功能 2: {名称}
...

### 功能 3: {名称}
...

## 明确不做

- {列出至少 3 个"不做"的事，这比"做什么"更重要}

## 竞品概览

| 产品 | 做了什么 | 没做什么 | 我们的机会 |
|------|---------|---------|-----------|

## 成功标准

- MVP 发布后 {X} 周内，{具体的可衡量指标}

## 待确认

- {列出所有标注了 [待确认] 的假设}
```

### Step 4: 确认

生成后，展示 Spec 的摘要给用户，问：
- 方向对不对？
- 有没有漏掉的关键点？
- 要不要调整范围？

## 进度追踪

用 TaskCreate 创建任务追踪：
1. 理解想法
2. 竞品快扫
3. 生成 Spec
4. 用户确认

## 输出

- 文件：`specs/{project-name}/spec.md`
- 终端：Spec 摘要 + 下一步建议（运行 `/feasibility`）
